import pandas as pd
import pytest
from bblocks.import_tools import sdr


def test_create_tsv_link():
    """Test create_tsv_link"""

    link = sdr.create_tsv_link(2022, 10,  31)

    assert link == 'https://www.imf.org/external/np/fin/tad/extsdr2.aspx?date1key=2022-10-31&tsvflag=Y'


def test_parse_sdr_links():
    """Test parse_sdr_links"""

    response = b'\r\n\r\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n    <title>SDR Allocations and Holdings for all members as of\r\n        October 31, 2022\r\n    </title>\r\n    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />\r\n    <meta name="Topics" content="" />\r\n    <meta name="Creator" content="International Monetary Fund" />\r\n    <meta name="Subject" content="" />\r\n    <meta name="Description" content="" />\r\n    <meta name="Date" content="2022-11-08" />\r\n    <meta name="Type" content="" />\r\n    <meta name="Country" content="" />\r\n    <meta name="ISOCODE" content="" />\r\n    <meta name="Region" content="" />\r\n    <meta name="Keywords" content="" />\r\n    <meta name="Language" content="eng" />\r\n    <meta name="ROBOTS" content="NOFOLLOW" /> \r\n    <link href="/external/x10/s.css" type="text/css" rel="stylesheet" />\r\n\r\n    <link href="/external/19/css/header_footer.css" rel="stylesheet" type="text/css" />\r\n    <link href="externalcontent/imflayoutstyle.css" rel="stylesheet" type="text/css" />\r\n    <script type="text/javascript" src="scripts/jquery-3.3.1.min.js"></script>\r\n    <script type="text/javascript" src="/external/19/js/droopmenu-min.js"></script>\r\n    <script type="text/javascript" src="/external/19/js/scripts-min.js"></script>\r\n    <script type="text/javascript" src="scripts/externalScript.js"></script>\r\n    <script type="text/javascript" src="scripts/localDocumentLoad.js"></script>\r\n\r\n     \r\n</head>\r\n<body bgcolor="#ffffff" class="moneyGreen">\r\n    <header class="main-header">\r\n                  <div class="flex-container padded-vertical-20">\n      <div class="cell flex-third text-left">\n        <ul class="social-hz">\n            <li><a href="http://www.twitter.com/imfnews" target="_blank" class="fab fa-twitter" title="Follow IMF Twitter"></a></li>\n            <li><a href="https://www.facebook.com/International-Monetary-Fund-152292984850728/" class="fab fa-facebook-f" target="_blank" title="Follow IMF Facebook"></a></li>\n            <li><a href="http://www.linkedin.com/company/international-monetary-fund" class="fab fa-linkedin-in" target="_blank" title="Follow IMF LinkedIn"></a></li>\n            <li><a href="https://www.instagram.com/the_imf/" class="fab fa-instagram" target="_blank" title="Follow IMF Instagram"></a></li>\n            <li><a href="http://www.youtube.com/imf" class="fab fa-youtube" target="_blank" title="Follow IMF Youtube"></a></li>\n            <li><a href="/external/pubs/ft/survey/so/podcast.aspx" class="far fa-podcast" title="IMF Podcasts"></a></li>\n            <li><a href="http://www.flickr.com/imfphoto" class="fab fa-flickr" target="_blank" title="Follow IMF Flickr"></a></li>\n            <li><a href="/en/email-subscription/index" class="fas fa-envelope-open-text" title="Subscribe to IMF Emails"></a></li>\n\t\t\t<li><a href="/en/live" title="IMF Live" class="nav-img"><img src="https://www.imf.org/~/media/Images/IMF/Live-Page/imf-live-rgb-h.ashx?la=en" srcset="https://www.imf.org/-/media/Images/IMF/Live-Page/imf-live-rgb-h-svg.ashx" alt="IMF Live"></a></li>\n        </ul>\n      </div>\n      <div class="cell flex-third logo-cell">\n          <a href="/en/Home"><img src="/external/19/images/header/IMF_seal_shadow.png" srcset="/external/19/images/header/IMF_seal_shadow.svg" alt="International Monetary Fund" class="head-seal" /></a>\n          <a href="/en/Home"><img src="/external/19/images/header/IMF_logo_ENG.png" srcset="/external/19/images/header/IMF_logo_ENG.svg" alt="International Monetary Fund" class="head-logo" /></a>\n      </div>\n      <div class="cell flex-third text-right search-cell"> \n          \n          <!-- BEGIN desktop SEARCH -->\n            <form id="searchform" class="hide-mobile" method="get" onSubmit="window.location.href = \'/en/search#q=\'+encodeURIComponent(getElementById(\'NewQuery\').value);return false;">\n            <fieldset>\n                <input id="NewQuery" name="NewQuery" class="text search" type="text" placeholder="Search" />\n            </fieldset>\n            <button type="submit" class="far fa-search"></button>\n            </form>\n         <!-- end desktop SEARCH -->\n         \n      \n         \n         \n                  <!-- BEGIN mobile SEARCH  -->\n         <form id="searchform-mob" method="get" class="is-mobile" action="/en/search">\n            <i class="far fa-search" aria-hidden="true"></i>\n            <div class="search-box">\n                <input id="NewQuery-mob" name="NewQuery" value="Search IMF.org" onfocus="this.value = \'\'" class="text search" type="text">\n                <input type="submit" value="Search">\n            </div>\n        </form>\n        <!--    end mobile SEARCH -->\n    <!-- END SEARCH --> \n      </div>\n        \n</div>  \r\n            </header>\r\n            <div class="droopmenu-navbar dmarrow-up droopmenu-horizontal dmpos-top dmfade container-width">\r\n                <div class="droopmenu-header">\r\n                    <a href="#" class="droopmenu-toggle"><i class="dm-burg"></i><i class="dm-burg"></i><i\r\n                            class="dm-burg"></i></a>\r\n                </div>\r\n                <!-- droopmenu-header -->\r\n                 <div class="droopmenu-nav">\n                    <ul class="droopmenu">\n                        \n                        \n                        <li>\n    <a href="/en/About">About</a>\n    <ul class="droopmenu-megamenu droopmenu-grid">\n        <li class="droopmenu-grid-container">\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col6">\n                    <li><h4>FACTSHEETS</h4></li>\n                </ul>\n                \n                <ul class="droopmenu-col droopmenu-col6">\n                    <li><h4>RESOURCES</h4></li>\n                </ul>\n            </div>\n            \n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/en/About/Factsheets/IMF-at-a-Glance" class="">IMF at a Glance</a></li>\n                    <li><a href="/en/About/Factsheets/IMF-Surveillance" class="">Surveillance</a></li>\n                    <li><a href="/en/About/Factsheets/IMF-Lending" class="">Lending</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/en/About/Factsheets/imf-capacity-development" class="">Capacity Development</a></li>\n                    <li><a href="/en/About/Factsheets" class="">IMF Factsheets List</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="http://www.imf.org/external/np/sec/memdir/members.aspx" class="">IMF Members</a></li>\n                    <li><a href="/en/About/Timeline" class="">IMF Timeline</a></li>\n                    <li><a href="/en/About/senior-officials" class="">Senior Officials</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n\t\t\t\t<li><a href="/en/data/imf-finances">IMF Finances</a></li>\n                    <li><a href="http://www.imf.org/external/np/adm/rec/recruit.htm" class="">Job Opportunities</a></li>\n                    <li><a href="http://www.imf.org/external/np/arc/eng/archive.htm" class="">Archives of the IMF</a></li>\n                </ul>                                        \n            </div><!-- droopmenu-row -->\n        </li>\n    </ul>\n</li>   \n                        \n                        \n                        <li>\n    <a href="/en/Research">Research</a>\n    <ul class="droopmenu-megamenu droopmenu-grid">\n        <li class="droopmenu-grid-container">\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><h4>Flagship Publications</h4></li>\n                </ul>\n                \n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><h4>Other Publications</h4></li>\n                </ul>\n            </div>\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/en/publications/weo">World Economic Outlook</a></li>\n                    <li><a href="/en/publications/gfsr">Global Financial Stability</a></li>\n                    <li><a href="/en/publications/FM">Fiscal Monitor</a></li>\n                    <li><a href="/en/Publications/SPROLLs/External-Sector-Reports#sort=%40imfdate%20descending">External Sector</a></li>\n                    \n                </ul>\n                \n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/en/Publications/SPROLLs/Staff-Discussion-Notes">Staff Discussion Notes</a></li>\n                    <li><a href="/en/publications/search?when=After&amp;series=IMF+Working+Papers">Working Papers</a></li>\n                    <li><a href="/external/pubs/ft/irb/archive.htm">IMF Research Perspectives</a></li>\n                    <li><a href="http://www.palgrave-journals.com/imfer/index.html">Economic Review</a></li>\n                </ul>\n                \n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/external/research/housing/index.htm">Global Housing Watch</a></li>\n                    <li><a href="/external/np/res/commod/index.aspx">Commodity Prices</a></li>\n                    <li><a href="https://data.imf.org/?sk=471DDDF8-D8A7-499A-81BA-5B332C01F8B9">Commodities Data Portal</a></li>\n                </ul>\n                \n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/external/np/cv/CV.aspx">IMF Researchers</a></li>\n                    <li><a href="/external/pubs/ft/staffp/arc/index.asp">Annual Research Conference</a></li>\n                    <li><a href="/en/News/Seminars/Conferences/2019/03/25/7th-statistical-forum">Other IMF Events</a></li>\n                    \n                </ul>                                        \n            </div><!-- droopmenu-row -->\n        </li>\n    </ul>\n</li>          \n                        \n                        \n                        \n                        \n                        \n                        \n                        \n             <li>\n    <a href="/en/countries">Countries</a>\n    <ul class="droopmenu-megamenu droopmenu-grid country-menu">\n        <li class="droopmenu-grid-container">\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col6">\n                    <li><h4>IMF reports and publications by country</h4></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li></li>\n                </ul>\n                 <ul class="droopmenu-col droopmenu-col3">\n                    <li><h4>Regional Offices</h4></li>\n                </ul>\n                \n            </div>\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col6 country-list">\n                    <li><a href="/en/countries#A">A</a></li>\n                    <li><a href="/en/countries#B">B</a></li>\n                    <li><a href="/en/countries#C">C</a></li>\n                    <li><a href="/en/countries#D">D</a></li>\n                    <li><a href="/en/countries#E">E</a></li>\n                    <li><a href="/en/countries#F">F</a></li>\n                    <li><a href="/en/countries#G">G</a></li>\n                    <li><a href="/en/countries#H">H</a></li>\n                    <li><a href="/en/countries#I">I</a></li>\n                    <li><a href="/en/countries#J">J</a></li>\n                    <li><a href="/en/countries#K">K</a></li>\n                    <li><a href="/en/countries#L">L</a></li>\n                    <li><a href="/en/countries#M">M</a></li>\n                    <li><a href="/en/countries#N">N</a></li>\n                    <li><a href="/en/countries#O">O</a></li>\n                    <li><a href="/en/countries#P">P</a></li>\n                    <li><a href="/en/countries#Q">Q</a></li>\n                    <li><a href="/en/countries#R">R</a></li>\n                    <li><a href="/en/countries#S">S</a></li>\n                    <li><a href="/en/countries#T">T</a></li>\n                    <li><a href="/en/countries#U">U</a></li>\n                    <li><a href="/en/countries#V">V</a></li>\n                    <li><a href="/en/countries#Y">Y</a></li>\n                    <li><a href="/en/countries#Z">Z</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/en/Countries/ResRep">IMF Resident Representative Offices </a></li>\n                    <li><a href="/external/pubs/cat/region.asp">IMF Regional Reports</a></li>\n\t\t\t\t\t<li><a href="/en/Countries/Regions/Europe">IMF and Europe</a></li>\n                    <li><a href="/external/np/sec/memdir/members.htm">IMF Members\' Quotas and Voting Power, and Board of Governors</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/en/Countries/ResRep/OAP-Home">IMF Regional Office for Asia and the Pacific</a></li>\n                    <li><a href="/en/Countries/ResRep/CDOT-Region">IMF Capacity Development Office in Thailand (CDOT)</a></li>\n                    <li><a href="/en/Countries/ResRep/CAM-Region">IMF Regional Office in Central America, Panama, and the Dominican Republic</a></li>\n                    <li><a href="/en/Countries/ResRep/ECC-Region">Eastern Caribbean Currency Union (ECCU)</a></li>\n                    <li><a href="/en/Countries/ResRep/EUR">IMF Europe Office in Paris and Brussels </a></li>\n                    <li><a href="https://www.imf.org/en/Countries/ResRep/PIS-Region">IMF Office in the Pacific Islands</a></li>\n                    \n                </ul>\n                \n                \n            </div><!-- droopmenu-row -->\n        </li>\n    </ul>\n</li>   \n                       \n                        \n                        <li>\n    <a href="/en/Capacity-Development">Capacity Development</a>\n    <ul class="droopmenu-megamenu droopmenu-grid">\n        <li class="droopmenu-grid-container">\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/external/np/ins/english/capacity_about.htm">About Us</a></li>\n                    <li><a href="/en/Capacity-Development/what-we-do">What We Do</a></li>\n                    <li><a href="/en/Capacity-Development/how-we-work">How We Work</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/external/np/ins/english/training.htm">IMF Training</a></li>\n                    <li><a href="/en/Capacity-Development/Training/ICDTC">Digital Training Catalog</a></li>\n                    <li><a href="/external/np/ins/english/learning.htm">Online Learning</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/en/Capacity-Development/Partners">Our Partners</a></li>\n                    <li><a href="/en/Capacity-Development/cd-stories">Country Stories</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/en/Publications/SPROLLs/Technical-assistance-country-reports">Technical Assistance Country Reports</a></li>\n                    \n                    <li><a href="/en/Capacity-Development/strategy-policies">Strategy and Policies</a></li>\n    \n                </ul>                                        \n            </div><!-- droopmenu-row -->\n        </li>\n    </ul>\n</li>   \n                        \n                        \n                        <li>\n    <a href="/en/News">News</a>\n    <ul class="droopmenu-megamenu droopmenu-grid">\n        <li class="droopmenu-grid-container">\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col6">\n                    <li><h4>All News</h4></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><h4>See Also</h4></li>\n                </ul>\n                \n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><h4>For Journalists</h4></li>\n                </ul>\n            </div>\n            \n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col3">\n\t\t\t\t\t<li><a href="/en/live" title="IMF Live" class="nav-img"><img src="https://www.imf.org/~/media/Images/IMF/Live-Page/imf-live-rgb-h.ashx?la=en" srcset="https://www.imf.org/-/media/Images/IMF/Live-Page/imf-live-rgb-h-svg.ashx" alt="IMF Live"></a></li>\n                    <li><a href="/en/News/country-focus">Country Focus</a></li>\n                    <li><a href="/en/news/searchnews#type=Communique">Communiqu\xc3\x83\xc2\xa9s</a></li>\n                    <li><a href="/en/news/searchnews#type=Mission+Concluding+Statement">Mission Concluding Statements</a></li>\n                    <li><a href="/en/news/searchnews#type=Press+Release">Press Releases</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/en/news/searchnews#type=Speech">Speeches</a></li>\n                    <li><a href="/en/news/searchnews#type=Statements+at+Donor+Meeting">Statements at Donor Meetings</a></li>\n                    <li><a href="/en/news/searchnews#type=Transcript">Transcripts</a></li>\n                    <li><a href="/en/news/searchnews#type=Views+and+Commentaries">Views &amp; Commentaries</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="//blog-imfdirect.imf.org/" target="_blank">IMFBlog</a></li>\n                    <li><a href="/external/np/sec/aiv/index.htm">Article IV Consultations</a></li>\n                    <li><a href="/external/np/fsap/fssa.aspx">Financial Sector Assessment Program (FSAP)</a></li>\n                    <li><a href="/external/np/exr/seminars/index.htm">Seminars, Conferences, &amp; Other Events</a></li>\n\t\t\t\t\t<li><a href="/external/cntpst/index.aspx">E-mail Notification</a></li>\n\t\t\t\t\t \n                </ul>\n                <ul class="droopmenu-col droopmenu-col3 press-center">\n                    <li><h5>Press Center</h5>\n                    <p>The IMF Press Center is a password-protected site for working journalists.</p>\n                    </li>\n                    <li><a href="http://presscenter.imf.org/" class="btn">Login</a> or <a href="https://presscenter.imf.org/Account/Register" class="btn bk-orange"> Register</a></li>\n                    <li><a href="/news/for-journalists">Information of Interest</a></li>\n                </ul>                                        \n            </div><!-- droopmenu-row -->\n        </li>\n    </ul>\n</li>   \n                        \n                        \n                         <li>\n    <a href="/external/mmedia/index.aspx" class="videos-item">Videos</a>\n    <ul class="droopmenu-megamenu droopmenu-grid">\n        <li class="droopmenu-grid-container">\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col4">\n\t\t\t\t\t<li><a href="/en/live" title="IMF Live" class="nav-img"><img src="https://www.imf.org/~/media/Images/IMF/Live-Page/imf-live-rgb-h.ashx?la=en" srcset="https://www.imf.org/-/media/Images/IMF/Live-Page/imf-live-rgb-h-svg.ashx" alt="IMF Live"></a></li>\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=About%20the%20IMF&variableId=1" title="About the IMF">About the IMF</a>\n                            </li>\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Conferences&variableId=6" title="Conferences">Conferences</a>\n                            </li>\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Press%20briefings&variableId=11" title="Press briefings">Press briefings</a>\n                            </li>\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Speeches&variableId=10" title="Speeches">Speeches</a>\n                            </li>\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Special%20Features&variableId=12" title="Special Features">Special Features</a>\n                            </li>\n                </ul>\n                \n                <ul class="droopmenu-col droopmenu-col4">\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Africa&variableId=2" title="Africa">Africa</a>\n                            </li>\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Americas&variableId=3" title="Americas">Americas</a>\n                            </li>\n                    \n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Asia&variableId=5" title="Asia">Asia</a>\n                            </li>\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Europe&variableId=8" title="Europe">Europe</a>\n                            </li>\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Middle%20East%20and%20Central%20Asia&variableId=9" title="Middle East and Central Asia">Middle East and Central Asia</a>\n                            </li>\n                </ul>\n                \n                \n                <ul class="droopmenu-col droopmenu-col4">\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Economic%20Outlook&variableId=7" title="Economic Outlook">Economic Outlook</a>\n                            </li>\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Annual%20and%20spring%20meetings&variableId=4" title="Annual and spring meetings">Annual and spring meetings</a>\n                            </li>\n                    <li>\n                                <a href="/external/mmedia/view.aspx?st=Categories&variable=Capacity%20Development&variableId=22" title="Capacity Development">Capacity Development</a>\n                            </li>\n                    \n                    <li><a href="/external/mmedia/index.aspx?Sort=MostRecent">Most Recent</a></li>\n                    \n                   <li><a href="/external/mmedia/index.aspx?Sort=MostPopular">Most Popular</a></li>\n                </ul>\n                \n            </div><!-- droopmenu-row -->\n        </li>\n    </ul>\n</li>      \n                        \n                        \n                        <li>\n    <a href="/en/Data">Data</a>\n    <ul class="droopmenu-megamenu droopmenu-grid">\n        <li class="droopmenu-grid-container">\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col3">\n\t\t\t         <li><a href="/en/data/imf-finances">IMF Finances</a></li>\n                    <li><a href="/external/np/ds/matrix.htm">Additional Data Sources</a></li>\n                    <li><a href="/external/ns/cs.aspx?id=28">World Economic Outlook Databases</a></li>\n              \n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/en/Publications/SPROLLS/world-economic-outlook-databases#sort=%40imfdate%20descending" target="_blank">Databases</a></li>\n                    <li><a href="http://data.imf.org" target="_blank">IMF eLibrary-Data</a></li>\n                    <li><a href="http://data.imf.org/IFS" target="_blank">International Financial Statistics</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="http://www.principalglobalindicators.org/" target="_blank">Principal Global Indicators</a></li>\n                    <li><a href="http://www.worldbank.org/qpsd" target="_blank">Public Sector Debt Statistics Online Centralized Database</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="http://data.imf.org/COFER" target="_blank">Currency Composition of Official Foreign Exchange Reserves</a></li>\n                    <li><a href="http://data.imf.org/FAS" target="_blank">Financial Access Survey</a></li>\n                </ul>                                        \n            </div><!-- droopmenu-row -->\n        </li>\n    </ul>\n</li>   \n                        \n                        \n                        <li>\n    <a href="/en/Publications">Publications</a>\n    <ul class="droopmenu-megamenu droopmenu-grid">\n        <li class="droopmenu-grid-container">\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col3">\n                        <li><a href="http://www.elibrary.imf.org/">IMF eLibrary</a></li>\n                        <li><a href="https://www.imfbookstore.org/">IMF Bookstore</a></li>\n                        <li><a href="/en/publications/areb">IMF Annual Report</a></li>\n                        <li><a href="/external/pubs/ft/fandd/index.htm">Finance &amp; Development</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                      <li><a href="/en/publications/weo">World Economic Outlook</a></li>\n                      <li><a href="/en/publications/gfsr">Global Financial Stability Report</a></li>\n                      <li><a href="/en/publications/fm">Fiscal Monitor</a></li>\n                      <li><a href="/en/Publications/SPROLLs/External-Sector-Reports">External Sector Report</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                        <li><a href="/en/publications/reo">Regional Economic Reports</a></li>\n                        <li><a href="/en/publications/search?when=After&amp;series=Policy+Papers">Policy Papers</a></li>\n                        <li><a href="/en/Publications/SPROLLs/Staff-Discussion-Notes">Staff Discussion Notes</a></li>\n                        <li><a href="/en/Publications/SPROLLs/IMF-Departmental-Papers">Departmental Papers</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n\t\t\t\t\t<li><a href="/en/Publications/imf-notes">All Staff Notes Series</a></li>\n\t\t\t\t\t<li><a href="/en/Publications/SPROLLs/global-financial-stability-notes">Global Financial Stability Notes</a></li>\n                    <li><a href="/en/Publications/SPROLLs/Spillover-Notes">Spillover Notes</a></li>\n                    <li><a href="/en/Publications/SPROLLs/How-To-Notes">How-To Notes</a></li>\n                    <li><a href="/en/publications/search">Advanced search</a></li>\n                </ul>                                        \n            </div><!-- droopmenu-row -->\n        </li>\n    </ul>\n</li>   \n                        \n          \n\t\t  <li>\n    <a href="/en/Topics/imf-and-covid19" class="flag">COVID-19<em class="droopmenu-topanim"></em></a>\n</li>\n\n                      <!--   <li>\n    <a href="/external/social.htm">Social</a>\n    <ul class="droopmenu-megamenu droopmenu-grid">\n        <li class="droopmenu-grid-container">\n            <div class="droopmenu-row">\n                <ul class="droopmenu-col droopmenu-col3">\n                      \n                      <li><a href="http://www.twitter.com/imfnews" target="_blank" class="fab fa-twitter">IMF Twitter</a></li>\n                      <li><a href="https://www.facebook.com/International-Monetary-Fund-152292984850728/" target="_blank" class="fab fa-facebook-f">IMF Facebook</a></li>\n                    <li><a href="http://www.linkedin.com/company/international-monetary-fund" target="_blank" class="fab fa-linkedin-in">IMF LinkedIn</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="https://www.instagram.com/the_imf/" target="_blank" class="fab fa-instagram" title="IMF Instagram">IMF Instagram</a></li>\n                    <li><a href="http://www.youtube.com/imf" target="_blank" class="fab fa-youtube">IMF YouTube</a></li>\n                    \n                    <li><a href="https://www.imf.org/en/News/Podcasts" class="far fa-podcast">IMF Podcast</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="http://www.flickr.com/imfphoto" target="_blank" class="fab fa-flickr">IMF Flickr</a></li>\n                    <li><a href="/external/rss/rsslist/rsslist.aspx" class="far fa-rss">IMF RSS</a></li>\n                    <li><a href="/en/email-subscription/index" class="fas fa-envelope-open-text">IMF Email Notification</a></li>\n                </ul>\n                <ul class="droopmenu-col droopmenu-col3">\n                    <li><a href="/external/social.htm" target="_blank" class="fal fa-thumbs-up">IMF Social Media Hub</a></li>\n                    <li><a href="http://www.imf.org/app" target="_blank" class="fab fa-apple">IMF App for iOS</a></li>\n                    <li><a href="http://www.imf.org/gapp" target="_blank" class="fab fa-android">IMF App for Android</a></li>\n                </ul>                                        \n            </div>\n        </li>\n    </ul>\n</li>  -->\n\n\n                    </ul>\n                </div><!-- droopmenu-nav -->\r\n            </div>\r\n    <div class="content" id="content">\r\n        <center class="container-width">\r\n                <h1 class="h1Smallest">\r\n                    Special Drawing Rights (SDRs) Allocations and Holdings<br />\r\n                    for all members as of\r\n                    October 31, 2022\r\n                </h1>\r\n                <br />\r\n                <div class="whatIsThis">\r\n                    <table summary="" border="1" cellspacing="0" cellpadding="2" width="610">\r\n                        <tr>\r\n                            <td>\r\n                                <p>\r\n                                    The Special Drawing Right (SDR) is an international reserve asset created by the IMF in 1969 to supplement other reserve assets of member countries. Under its Articles of Agreement, the IMF may allocate SDRs to member countries who are participants of the SDR Department in proportion to their IMF quotas.</p>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n                <br />\r\n                \r\n                <table border="0" cellpadding="0" cellspacing="0">\r\n                    <tr>\r\n                        <td align="center">\r\n                            <table border="0" cellpadding="0" cellspacing="0"><tr><td align="center"><table summary="" align="center" width="140" cellpadding="2" cellspacing="2" border="0"class="border"><tr class="color2"><th><small>Download this file</small></th></tr><tr><td align="center"><small><a href="extsdr1.aspx?tsvflag=Y">TSV</a> -- <a href="http://www.imf.org/external/help/tsv.htm">TSV tips</a></small></td></tr></table></td></tr></table>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n                <br />\r\n                (in SDRs)\r\n                <br />\r\n                <div class="fancy">\r\n                    <table summary="" border="1" cellspacing="0" cellpadding="2" width="610">\r\n                        <tr class="color1">\r\n                            <th nowrap="nowrap">\r\n                                Date\r\n                            </th>\r\n                            <th nowrap="nowrap">\r\n                                SDR Holdings\r\n                            </th>\r\n                            <th nowrap="nowrap">\r\n                                SDR Allocations\r\n                            </th>\r\n                        </tr>\r\n                        <tr><td nowrap="nowrap" align="left">&nbsp;October 31, <a href="extsdr3.aspx?dateyear=2022">2022</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;660,698,906,854</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;660,698,906,854</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2021">2021</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;660,698,906,854</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;660,698,906,854</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2020">2020</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,197,471,915</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,197,471,915</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2019">2019</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,157,943,411</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,157,943,411</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2018">2018</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,157,943,411</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,157,943,411</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2017">2017</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,157,943,411</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,157,943,411</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2016">2016</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,157,943,411</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,157,943,411</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2015">2015</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,090,679,885</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,090,679,885</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2014">2014</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,090,679,885</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,090,679,885</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2013">2013</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,090,679,885</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,090,679,885</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2012">2012</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,090,679,885</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;204,090,679,885</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2011">2011</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;203,985,273,773</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;203,985,273,773</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2010">2010</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;203,985,273,773</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;203,985,273,773</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2009">2009</a></a><sup>1/</sup>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;203,983,585,060</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;203,983,585,060</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2008">2008</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,447,323,308</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2007">2007</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,476,126,503</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2006">2006</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,473,003,105</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2005">2005</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,470,449,848</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2004">2004</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,468,707,977</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2003">2003</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,521,155,135</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2002">2002</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,525,798,965</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2001">2001</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,539,544,273</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=2000">2000</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,527,462,743</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1999">1999</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,534,808,792</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1998">1998</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,522,109,231</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1997">1997</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,508,223,319</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1996">1996</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,495,178,073</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1995">1995</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,484,535,660</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1994">1994</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,476,906,050</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1993">1993</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,480,941,838</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1992">1992</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,480,131,756</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1991">1991</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,472,690,929</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1990">1990</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,478,065,797</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1989">1989</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,477,347,564</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1988">1988</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,468,998,934</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1987">1987</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,456,357,578</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1986">1986</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,448,027,411</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1985">1985</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,448,770,690</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1984">1984</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,440,986,033</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1983">1983</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;14,405,475,188</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1982">1982</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;17,740,910,562</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1981">1981</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;16,411,101,932</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;21,433,330,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1980">1980</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;11,803,370,454</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;17,380,836,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1979">1979</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;12,478,822,927</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;13,347,560,200</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1978">1978</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;8,110,004,135</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;9,314,835,400</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1977">1977</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;8,132,742,853</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;9,314,835,400</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1976">1976</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;8,655,344,191</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;9,314,835,400</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1975">1975</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;8,763,848,545</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;9,314,835,400</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1974">1974</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;8,857,882,679</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;9,314,835,400</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1973">1973</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;8,807,101,378</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;9,314,835,400</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1972">1972</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;8,686,094,326</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;9,314,835,400</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1971">1971</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;5,874,440,597</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;6,363,286,600</td></tr><tr><td nowrap="nowrap" align="left">&nbsp;December 31, <a href="extsdr3.aspx?dateyear=1970">1970</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;3,123,886,246</td><td nowrap="nowrap" align="right">&nbsp;&nbsp;&nbsp;3,414,045,600</td></tr>\r\n                    </table>\r\n                </div>\r\n                <br />\r\n                <sup>1/</sup>Excludes amounts held in escrow. <div class="disclaimer">\r\n\t\t\t<table summary="" border="0" cellpadding="2" cellspacing="0" width="350" class="tighter">\r\n\t\t\t   <tr><th class="left">Disclaimer</th></tr>\t\t\t   \r\n\t\t\t   <tr><td align="left">The information provided is for your convenience and is not intended to replace <a href="http://www.imf.org/external/pubs/ft/ar/index.htm">other official IMF reports and statements</a>.</td></tr>\r\n\t\t\t</table>\r\n</div>\r\n            <br />\r\n            <a href="index.aspx">Member Financial Data</a>\r\n        </center>\r\n    </div>\r\n     <div id="full-width-footer">\r\n                <footer role="contentInfo" aria-label="site footer" class="page-footer container-width">\r\n                    <div class="flex-container contain-indent padded-vertical-40">\n             \n             <div class="cell align-self-top flex-quarter">\n          <a href="/en/home"><img src="/external/19/images/footer/IMF_seal.png" srcset="/external/19/images/footer/IMF_seal.svg" alt="International Monetary Fund" class="foot-logo" /></a>\n      </div>\n \n    \n      \n   <div class="flex-three-quarter footer-links text-right">\n      <ul>\n        <li><a href="/en/About">About</a></li>\n        <li><a href="/en/Research">Research</a></li>\n        <li><a href="/en/Countries">Countries</a></li>\n        <li><a href="/en/Capacity-Development">Capacity Development</a></li>\n        <li><a href="/en/News">News</a></li>\n        <li><a href="/external/np/exr/seminars/index.htm">Events</a></li>\n      </ul>\n   \n      <ul>\n        <li><a href="/external/mmedia/index.aspx">Videos</a></li>\n        <li><a href="/en/Data">Data</a></li>\n        <li><a href="/en/Publications">Publications</a></li>\n        <li><a href="/external/social.htm">Social Media Hub</a></li>\n        <li><a href="/en/Publications/AREB">Annual Report</a></li>\n          <li><a href="/external/terms.htm">Copyright and Usage</a></li>\n      </ul>\n    \n      <ul>\n        <li><a href="/external/privacy.htm">Privacy Policy</a></li>\n        <li><a href="/external/np/exr/contacts/contacts.aspx">Contact Us</a></li>\n        <li><a href="/external/np/adm/rec/recruit.htm">Careers</a></li>\n        <li><a href="/external/np/exr/glossary/index.asp">Glossary</a></li>\n        <li><a href="/external/scams.htm" title="Scam Alert">Scam Alert</a></li>\n      </ul>\n    \n      <ul class="navlanguage">\n        <li lang="ar" xml:lang="ar"><a href="/ar/home" title="Arabic">&#x0639;&#x0631;&#x0628;&#x064a;</a></li>\n    <li lang="ch" xml:lang="ch"><a href="/zh/home" title="Chinese">&#x4e2d;&#x6587;</a></li>\n    <li lang="fr" xml:lang="fr"><a href="/fr/home" title="French">Fran&ccedil;ais</a></li>\n    <li lang="ja" xml:lang="ja"><a href="/ja/home" title="Japanese">&#x65e5;&#x672c;&#x8a9e;</a></li>\n    <li lang="ru" xml:lang="ru"><a href="/ru/home" title="Russian">&#x0420;&#x0443;&#x0441;&#x0441;&#x043a;&#x0438;&#x0439;</a></li>\n    <li lang="es" xml:lang="es"><a href="/es/home" title="Spanish" class="last">Espa&ntilde;ol</a></li>\n      </ul>\n             </div>  \n      \n\n                 \n             </div>\n             <div class="flex-container contain-indent padded-vertical-20">\n                 \n                 <div class="cell flex-half text-left">\n                     <p class="small-grey-text all-caps">&copy; 2021 International Monetary Fund. All rights reserved.</p>\n                 </div>\n                 \n                 \n             <div class="cell flex-half align-right text-right">\n        <ul class="social-hz">\n            <li><a href="http://www.twitter.com/imfnews" target="_blank" class="fab fa-twitter" title="Follow IMF Twitter"></a></li>\n            <li><a href="https://www.facebook.com/International-Monetary-Fund-152292984850728/" class="fab fa-facebook-f" target="_blank" title="Follow IMF Facebook"></a></li>\n            <li><a href="http://www.linkedin.com/company/international-monetary-fund" class="fab fa-linkedin-in" target="_blank" title="Follow IMF LinkedIn"></a></li>\n            <li><a href="https://www.instagram.com/the_imf/" class="fab fa-instagram" target="_blank" title="Follow IMF Instagram"></a></li>\n            <li><a href="http://www.youtube.com/imf" class="fab fa-youtube" target="_blank" title="Follow IMF Youtube"></a></li>\n            <li><a href="/external/pubs/ft/survey/so/podcast.aspx" class="far fa-podcast" title="IMF Podcasts"></a></li>\n            <li><a href="http://www.flickr.com/imfphoto" class="fab fa-flickr" target="_blank" title="Follow IMF Flickr"></a></li>\n            <li><a href="/en/email-subscription/index" class="fas fa-envelope-open-text" title="Subscribe to IMF Emails"></a></li>\n\t\t\t<li><a href="/en/live" title="IMF Live" class="nav-img"><img src="https://www.imf.org/~/media/Images/IMF/Live-Page/imf-live-rgb-h.ashx?la=en" srcset="https://www.imf.org/-/media/Images/IMF/Live-Page/imf-live-rgb-h-svg.ashx" alt="IMF Live"></a></li>\n        </ul>\n      </div>\n </div>\r\n                </footer>\r\n            </div>\r\n</body>\r\n</html>\r\n'

    link = sdr.parse_sdr_links(response)

    expected = {'2022': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2022', '2021': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2021', '2020': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2020', '2019': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2019', '2018': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2018', '2017': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2017', '2016': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2016', '2015': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2015', '2014': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2014', '2013': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2013', '2012': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2012', '2011': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2011', '2010': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2010', '2009': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2009', '2008': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2008', '2007': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2007', '2006': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2006', '2005': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2005', '2004': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2004', '2003': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2003', '2002': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2002', '2001': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2001', '2000': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=2000', '1999': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1999', '1998': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1998', '1997': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1997', '1996': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1996', '1995': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1995', '1994': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1994', '1993': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1993', '1992': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1992', '1991': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1991', '1990': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1990', '1989': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1989', '1988': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1988', '1987': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1987', '1986': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1986', '1985': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1985', '1984': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1984', '1983': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1983', '1982': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1982', '1981': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1981', '1980': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1980', '1979': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1979', '1978': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1978', '1977': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1977', '1976': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1976', '1975': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1975', '1974': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1974', '1973': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1973', '1972': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1972', '1971': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1971', '1970': 'https://www.imf.org/external/np/fin/tad/extsdr3.aspx?dateyear=1970'}

    assert link == expected


def test_clean_df():
    """test clean_df"""

    df_to_clean = pd.DataFrame({'SDR Allocations and Holdings': {0: 'for all members as of October 31, 2022', 1: '(in SDRs)', 2: 'Members\tSDR Holdings\tSDR Allocations', 3: 'Afghanistan, Islamic Republic of\t342,615,561\t465,662,004', 4: 'Albania\t203,310,003\t179,963,045', 5: 'Algeria\t3,129,799,553\t3,076,660,983', 6: 'Andorra\t93,813,046\t114,444,729', 7: 'Angola\t792,096,079\t982,361,190', 8: 'Antigua and Barbuda\t240,860\t31,668,625', 9: 'Argentina\t2,272,530,198\t5,074,923,669', 10: 'Armenia, Republic of\t14,763,044\t211,437,666'}}
    )

    df = sdr.clean_df(df_to_clean, '2022-10-31')
    expected_df = pd.DataFrame({'entity': {0: 'Afghanistan, Islamic Republic of', 1: 'Albania', 2: 'Algeria', 3: 'Andorra', 4: 'Angola', 5: 'Antigua and Barbuda', 6: 'Argentina', 7: 'Armenia, Republic of', 8: 'Afghanistan, Islamic Republic of', 9: 'Albania', 10: 'Algeria', 11: 'Andorra', 12: 'Angola', 13: 'Antigua and Barbuda', 14: 'Argentina', 15: 'Armenia, Republic of'}, 'indicator': {0: 'holdings', 1: 'holdings', 2: 'holdings', 3: 'holdings', 4: 'holdings', 5: 'holdings', 6: 'holdings', 7: 'holdings', 8: 'allocations', 9: 'allocations', 10: 'allocations', 11: 'allocations', 12: 'allocations', 13: 'allocations', 14: 'allocations', 15: 'allocations'}, 'value': {0: 342615561.0, 1: 203310003.0, 2: 3129799553.0, 3: 93813046.0, 4: 792096079.0, 5: 240860.0, 6: 2272530198.0, 7: 14763044.0, 8: 465662004.0, 9: 179963045.0, 10: 3076660983.0, 11: 114444729.0, 12: 982361190.0, 13: 31668625.0, 14: 5074923669.0, 15: 211437666.0}, 'date': {0: '2022-10-31', 1: '2022-10-31', 2: '2022-10-31', 3: '2022-10-31', 4: '2022-10-31', 5: '2022-10-31', 6: '2022-10-31', 7: '2022-10-31', 8: '2022-10-31', 9: '2022-10-31', 10: '2022-10-31', 11: '2022-10-31', 12: '2022-10-31', 13: '2022-10-31', 14: '2022-10-31', 15: '2022-10-31'}}
                               ).assign(date=lambda x: pd.to_datetime(x['date']))

    pd.testing.assert_frame_equal(df, expected_df)


def test_format_date():
    """Test format_date"""

    expected = '2022-10-31'
    assert sdr.format_date([2022, 10]) == expected
    assert sdr.format_date((2022, 10)) == expected

    with pytest.raises(ValueError) as error:
        sdr.format_date([2022, 10, 31])

    assert str(error.value) == 'Date must be a list or tuple containing year and month'





